(function(e){function t(t){for(var a,o,s=t[0],i=t[1],l=t[2],u=0,d=[];u<s.length;u++)o=s[u],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&d.push(c[o][0]),c[o]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);b&&b(t);while(d.length)d.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,o=1;o<n.length;o++){var s=n[o];0!==c[s]&&(a=!1)}a&&(r.splice(t--,1),e=i(i.s=n[0]))}return e}var a={},o={app:0},c={app:0},r=[];function s(e){return i.p+"js/"+({profil:"profil"}[e]||e)+"."+{profil:"0e20c48a"}[e]+".js"}function i(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.e=function(e){var t=[],n={profil:1};o[e]?t.push(o[e]):0!==o[e]&&n[e]&&t.push(o[e]=new Promise((function(t,n){for(var a="css/"+({profil:"profil"}[e]||e)+"."+{profil:"ece99f77"}[e]+".css",c=i.p+a,r=document.getElementsByTagName("link"),s=0;s<r.length;s++){var l=r[s],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===c))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){l=d[s],u=l.getAttribute("data-href");if(u===a||u===c)return t()}var b=document.createElement("link");b.rel="stylesheet",b.type="text/css",b.onload=t,b.onerror=function(t){var a=t&&t.target&&t.target.src||c,r=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete o[e],b.parentNode.removeChild(b),n(r)},b.href=c;var f=document.getElementsByTagName("head")[0];f.appendChild(b)})).then((function(){o[e]=0})));var a=c[e];if(0!==a)if(a)t.push(a[2]);else{var r=new Promise((function(t,n){a=c[e]=[t,n]}));t.push(a[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.src=s(e);var d=new Error;l=function(t){u.onerror=u.onload=null,clearTimeout(b);var n=c[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+a+": "+o+")",d.name="ChunkLoadError",d.type=a,d.request=o,n[1](d)}c[e]=void 0}};var b=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(t)},i.m=e,i.c=a,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)i.d(n,a,function(t){return e[t]}.bind(null,a));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/",i.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=t,l=l.slice();for(var d=0;d<l.length;d++)t(l[d]);var b=u;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"03de":function(e,t,n){e.exports=n.p+"img/icon.a1ceb75f.svg"},"25d1":function(e,t,n){"use strict";n("2825")},2825:function(e,t,n){},"2b54":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23");function o(e,t,n,o,c,r){var s=Object(a["z"])("Header"),i=Object(a["z"])("router-view");return Object(a["s"])(),Object(a["e"])(a["a"],null,[Object(a["f"])("div",null,[Object(a["i"])(s)]),Object(a["i"])(i)],64)}var c=n("03de"),r=n.n(c),s=function(e){return Object(a["v"])("data-v-6b6ad886"),e=e(),Object(a["t"])(),e},i={class:"header"},l={id:"nav",class:"navbar navbar-expand-lg header-nav navbar-dark bg-dark"},u={class:"container"},d=s((function(){return Object(a["f"])("a",{class:"navbar-brand",href:"/"},[Object(a["f"])("img",{src:r.a,alt:"",width:"60"})],-1)})),b=s((function(){return Object(a["f"])("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[Object(a["f"])("span",{class:"navbar-toggler-icon"})],-1)})),f={class:"collapse navbar-collapse justify-content-end",id:"navbarSupportedContent"},p={class:"navbar-nav ml-auto mb-2 mb-lg-0"},m={key:0,class:"nav-item"},O=Object(a["h"])("Mon profil"),v={class:"nav-item"};function j(e,t,n,o,c,r){var s=Object(a["z"])("router-link");return Object(a["s"])(),Object(a["e"])("header",i,[Object(a["f"])("nav",l,[Object(a["f"])("div",u,[d,b,Object(a["f"])("div",f,[Object(a["f"])("ul",p,[e.connected?(Object(a["s"])(),Object(a["e"])("li",m,[Object(a["i"])(s,{class:"nav-link btn btn-info me-3","aria-current":"page",to:"/profile"},{default:Object(a["G"])((function(){return[O]})),_:1})])):Object(a["d"])("",!0),Object(a["H"])(Object(a["f"])("li",v,[Object(a["f"])("a",{class:"nav-link btn btn-danger",onClick:t[0]||(t[0]=function(e){return r.disconnect()})},"Se déconnecter")],512),[[a["E"],e.connected]])])])])])])}var h=n("5530"),g=n("5502"),y={name:"Header",data:function(){return{}},computed:Object(h["a"])({},Object(g["b"])(["connected"])),methods:{disconnect:function(){this.$store.dispatch("disconnect")}}},k=(n("6bfe"),n("6b0d")),w=n.n(k);const x=w()(y,[["render",j],["__scopeId","data-v-6b6ad886"]]);var C=x,D={name:"app",components:{Header:C}};const _=w()(D,[["render",o]]);var E=_,P=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),N={class:"containerfluid container-md mt-5"},A={id:"login"},S=Object(a["f"])("h1",{class:"text-center"},"Bienvenue sur Groupomania",-1),H={id:"posts"};function I(e,t,n,o,c,r){var s=Object(a["z"])("Login"),i=Object(a["z"])("Posts");return Object(a["s"])(),Object(a["e"])("div",N,[Object(a["H"])(Object(a["f"])("div",A,[S,Object(a["i"])(s)],512),[[a["E"],!e.connected]]),Object(a["f"])("div",H,[Object(a["i"])(i)])])}var T=function(e){return Object(a["v"])("data-v-19845711"),e=e(),Object(a["t"])(),e},L={class:"container-fluid container-md py-5"},z={class:"form-signup"},B={key:0,class:"text-danger text-center text-uppercase"},F={key:1,class:"text-danger text-center text-uppercase"},M={class:"text-center py-2"},U={key:0,class:"link"},V={key:1,class:"link"},G={key:2,class:"row"},K={class:"col-12 col-md-6"},J={class:"mb-3 form-row"},$=T((function(){return Object(a["f"])("label",{for:"prenom",class:"form-label"},"Prénom",-1)})),q={class:"col-12 col-md-6"},Q={class:"mb-3 form-row"},Y=T((function(){return Object(a["f"])("label",{for:"nom",class:"form-label"},"Nom",-1)})),R={class:"mb-3 form-row"},W=T((function(){return Object(a["f"])("label",{for:"email",class:"form-label"},"Adresse e-mail",-1)})),X={class:"mb-3 form-row"},Z=T((function(){return Object(a["f"])("label",{for:"pass",class:"form-label"},"Mot de passe",-1)})),ee={class:"mb-3 text-end form-row"};function te(e,t,n,o,c,r){return Object(a["s"])(),Object(a["e"])("div",L,[Object(a["f"])("div",z,["login"==e.mode?(Object(a["s"])(),Object(a["e"])("h2",B,"Connexion")):(Object(a["s"])(),Object(a["e"])("h2",F,"Inscription")),Object(a["f"])("div",M,["login"==e.mode?(Object(a["s"])(),Object(a["e"])("p",U,[Object(a["f"])("span",{onClick:t[0]||(t[0]=function(e){return r.switchCreate()})},"Vous n'avez pas de compte ?")])):(Object(a["s"])(),Object(a["e"])("p",V,[Object(a["f"])("span",{onClick:t[1]||(t[1]=function(e){return r.switchLogin()})},"Vous avez déjà un compte ?")]))]),"create"==e.mode?(Object(a["s"])(),Object(a["e"])("div",G,[Object(a["f"])("div",K,[Object(a["f"])("div",J,[$,Object(a["H"])(Object(a["f"])("input",{id:"prenom",type:"text",class:"form-control","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.prenom=t}),placeholder:"John"},null,512),[[a["D"],e.prenom]])])]),Object(a["f"])("div",q,[Object(a["f"])("div",Q,[Y,Object(a["H"])(Object(a["f"])("input",{id:"nom",type:"text",class:"form-control","onUpdate:modelValue":t[3]||(t[3]=function(t){return e.nom=t}),placeholder:"Doe"},null,512),[[a["D"],e.nom]])])])])):Object(a["d"])("",!0),Object(a["f"])("div",R,[W,Object(a["H"])(Object(a["f"])("input",{id:"email",type:"email",class:"form-control","onUpdate:modelValue":t[4]||(t[4]=function(t){return e.email=t}),placeholder:"johne.doe@email.com"},null,512),[[a["D"],e.email]])]),Object(a["f"])("div",X,[Z,Object(a["H"])(Object(a["f"])("input",{id:"pass",type:"password",class:"form-control","onUpdate:modelValue":t[5]||(t[5]=function(t){return e.pass=t}),placeholder:"***********"},null,512),[[a["D"],e.pass]])]),Object(a["f"])("div",ee,["login"==e.mode?(Object(a["s"])(),Object(a["e"])("button",{key:0,onClick:t[6]||(t[6]=function(e){return r.login()}),class:Object(a["o"])(["btn btn-primary",{disabled:!r.validateFields}])},"Se connecter",2)):(Object(a["s"])(),Object(a["e"])("button",{key:1,onClick:t[7]||(t[7]=function(e){return r.create()}),class:Object(a["o"])(["btn btn-primary",{disabled:!r.validateFields}])},"S'inscrire",2))])])])}var ne=n("bc3a").default,ae={name:"Login",data:function(){return{mode:"login",prenom:"",nom:"",email:"",pass:""}},computed:Object(h["a"])({validateFields:function(){return"create"==this.mode?""!=this.prenom&&""!=this.nom&&""!=this.email&&""!=this.pass:""!=this.email&&""!=this.pass}},Object(g["b"])(["connected"])),methods:{switchCreate:function(){this.mode="create"},switchLogin:function(){this.mode="login"},login:function(e){var t=this,n={};n=e?{email:e.email,pass:e.pass}:{email:this.email,pass:this.pass},ne.post("http://127.0.0.1:3200/api/auth/login",n).then((function(e){200!=e.status&&alert("Une erreur est survenue lors de la connexion à votre compte."),e.data.userId&&(t.$store.dispatch("loginAccount",{connected:!0,prenom:e.data.prenom,nom:e.data.nom,email:e.data.email,admin:e.data.admin,token:e.data.token}),t.$router.push("/"))})).catch((function(e){console.log(e)}))},create:function(){var e=this;console.log(this.email,this.pass,this.nom,this.prenom),ne.post("http://127.0.0.1:3200/api/auth/signup",{prenom:this.prenom,nom:this.nom,email:this.email,pass:this.pass}).then((function(t){console.log(t),201!=t.status&&alert("Une erreur est survenue lors de la création du compte."),e.login({email:e.email,pass:e.pass})})).catch((function(e){return console.log(e)}))}}};n("25d1");const oe=w()(ae,[["render",te],["__scopeId","data-v-19845711"]]);var ce=oe,re={key:0,id:"posts-section"},se={class:"post-input"},ie={class:"my-3"},le=Object(a["g"])('<div class="mb-3" data-v-b4708a96><label for="content" class="form-label" data-v-b4708a96></label><textarea class="form-control" name="content" id="content" rows="4" placeholder="Quoi de neuf ?" data-v-b4708a96></textarea></div><div class="mb-3 d-flex justify-content-between" data-v-b4708a96><div class="upload" data-v-b4708a96><label class="btn btn-groupomania" for="image" data-v-b4708a96> Impoter une image <input type="file" name="image" id="image" class="btn btn-groupomania" value="joindre une image" data-v-b4708a96></label></div><button type="submit" class="btn btn-groupomania" data-v-b4708a96>Publier</button></div>',2),ue={class:"list-posts mt-5"};function de(e,t,n,o,c,r){var s=Object(a["z"])("ListPost");return e.connected?(Object(a["s"])(),Object(a["e"])("div",re,[Object(a["f"])("div",se,[Object(a["f"])("div",ie,[Object(a["f"])("h3",null,"Exprimez-vous "+Object(a["B"])(e.prenom)+" !",1)]),le]),Object(a["f"])("div",ue,[Object(a["i"])(s)])])):Object(a["d"])("",!0)}var be=function(e){return Object(a["v"])("data-v-130ec3fc"),e=e(),Object(a["t"])(),e},fe={class:"card-header d-flex align-items-center"},pe=be((function(){return Object(a["f"])("img",{class:"rounded-circle",src:"https://i.imgur.com/aoKusnD.jpg",width:"45"},null,-1)})),me={class:"ms-2"},Oe={class:"author"},ve={class:"created"},je={class:"card-body"},he={class:"card-text"},ge=Object(a["g"])('<div class="card-footer text-end" data-v-130ec3fc><button class="btn" data-v-130ec3fc><i class="fas fa-heart" data-v-130ec3fc></i></button><button class="btn" data-v-130ec3fc><i class="fas fa-comments" data-v-130ec3fc></i></button><button class="btn" data-v-130ec3fc><i class="fas fa-share" data-v-130ec3fc></i></button></div>',1);function ye(e,t,n,o,c,r){return Object(a["s"])(),Object(a["e"])("div",null,[(Object(a["s"])(!0),Object(a["e"])(a["a"],null,Object(a["y"])(e.listPosts,(function(e){return Object(a["s"])(),Object(a["e"])("div",{class:"card mb-4",key:e},[Object(a["f"])("div",fe,[pe,Object(a["f"])("div",me,[Object(a["f"])("p",Oe,Object(a["B"])(e.prenom)+" "+Object(a["B"])(e.nom),1),Object(a["f"])("p",ve,Object(a["B"])(r.formatDate(e.created)),1)])]),Object(a["f"])("div",je,[Object(a["f"])("p",he,Object(a["B"])(e.content),1)]),ge])})),128))])}var ke=n("bc3a").default,we={name:"ListPost",data:function(){return{listPosts:[]}},computed:Object(h["a"])({},Object(g["b"])(["token","userId"])),methods:{formatDate:function(e){var t=new Date(e),n=t.getDate()+"-"+t.getMonth()+"-"+t.getFullYear(),a=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();console.log(n),console.log(t),console.log(a)}},mounted:function(){var e=this;ke.get("http://localhost:3200/api/posts").then((function(t){console.log(t.data),e.listPosts=t.data}))}};n("6555");const xe=w()(we,[["render",ye],["__scopeId","data-v-130ec3fc"]]);var Ce=xe,De={name:"Posts",components:{ListPost:Ce},props:{placeholder:{type:String,default:"testaa"}},computed:Object(h["a"])({},Object(g["b"])(["connected","token","prenom"]))};n("a998");const _e=w()(De,[["render",de],["__scopeId","data-v-b4708a96"]]);var Ee=_e,Pe={name:"Home",components:{Login:ce,Posts:Ee},computed:Object(h["a"])({},Object(g["b"])(["connected","token"]))};const Ne=w()(Pe,[["render",I]]);var Ae=Ne,Se=[{path:"/",name:"Home",component:Ae},{path:"/profil",name:"Profil",component:function(){return n.e("profil").then(n.bind(null,"2768"))}}],He=Object(P["a"])({history:Object(P["b"])(),routes:Se}),Ie=He,Te=n("0e44"),Le=Object(g["a"])({state:{connected:!1,token:"",email:"",userId:"",prenom:"",nom:"",admin:""},plugins:[Object(Te["a"])()],mutations:{CHANGE_CONNECTED:function(e,t){e.connected=t},ADD_TOKEN:function(e,t){e.token=t},ADD_INFO:function(e,t){e.userId=t.userId,e.email=t.email,e.prenom=t.prenom,e.nom=t.nom,e.admin=t.admin}},actions:{loginAccount:function(e,t){var n=e.commit;console.log(t),n("CHANGE_CONNECTED",t.connected),n("ADD_TOKEN",t.token),n("ADD_INFO",t)},disconnect:function(e){var t=e.commit;t("CHANGE_CONNECTED",!1),t("ADD_TOKEN","")},updateProfile:function(e,t){var n=e.commit;n("ADD_INFO",t)}},modules:{}});Object(a["c"])(E).use(Le).use(Ie).mount("#app")},"5a6f":function(e,t,n){},6555:function(e,t,n){"use strict";n("afa3")},"6bfe":function(e,t,n){"use strict";n("2b54")},a998:function(e,t,n){"use strict";n("5a6f")},afa3:function(e,t,n){}});
//# sourceMappingURL=app.15d5aaf5.js.map